<html>
  <head>
      <title>Canvas tutorial template</title>
        <style type="text/css">
          html,body { margin:0px; padding:0px;background:#ddd;}
    
          canvas { border: 0px solid black; }
        </style>
        <meta name="viewport" content="width = 320" />
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

      <script type="text/javascript" src="jquery-1.4.2.js"></script> 
      <script type="text/javascript" src="drawing.js"></script> 
      <script type="text/javascript" src="dashboard.js"></script> 

      <script type="text/javascript">
          var cx;
          var canvas;
        var WIDTH;
        var HEIGHT;

        var dashboard;

        function resizeCanvas(width,height) {
            canvas.width = width;
            canvas.height = height;

            WIDTH = $("#canvasView").width()
            HEIGHT = $("#canvasView").height()

        }


        
        function init() {
            canvas = document.getElementById('canvasView');

            resizeCanvas($(window).width(),$(window).height());

          if (canvas.getContext){
            cx = canvas.getContext('2d');
            
            dashboard = new Dashboard(cx);
            dashboard.draw();
          }
      
        }

      function onMouseMove(evt) {
        // update the dashboard
        dashboard.currentHeading = evt.pageX;
        dashboard.currentSpeed = parseFloat(evt.pageY*1.0);
        
        dashboard.draw();
      } 
      $(document).mousemove(onMouseMove);
      
        $(window).resize(function() {
                resizeCanvas($(window).width(),$(window).height());
                dashboard.draw();
        }); 
      </script>
  </head>
  <body onload="init();">
    <canvas id="canvasView" width="100%" height="100%"></canvas>
  </body>
</html>
